(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),i=n.n(o),c=(n(72),n(26)),l=n(20),u=n(6),s=n(13),d=n(14),p=n(16),f=n(15),g=n(17),b=n(54),m=n(2),h=n(3);function v(){var e=Object(m.a)([""]);return v=function(){return e},e}var y=h.b.aside(v());function _(){var e=Object(m.a)(["\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  display: flex;\n"]);return _=function(){return e},e}var x=Object(h.b)(y)(_()),O=function(){return r.a.createElement(x,null,r.a.createElement(b.BeatLoader,{size:9}))};function k(){var e=Object(m.a)(["\n  display: flex;\n"]);return k=function(){return e},e}var j=h.b.section(k());function E(){var e=Object(m.a)(["\n  align-items: center;\n  flex-direction: column;\n  animation: "," 0.5s linear;\n  background-color: rgb(244, 246, 248);\n"]);return E=function(){return e},e}function S(){var e=Object(m.a)(["\n  from {\n    opacity:0\n  }\n\n  to {\n    opacity:1\n  }\n"]);return S=function(){return e},e}var w=Object(h.c)(S()),C=Object(h.b)(j)(E(),w);function q(){var e=Object(m.a)([""]);return q=function(){return e},e}var I=h.b.input(q());function T(){var e=Object(m.a)(["\n  width: 100%;\n  display: block;\n  box-sizing: border-box;\n  padding: 4px 18px;\n  border: 1px solid #e3e5e7;\n  height: 40px;\n  font-size: 14px;\n  line-height: 1.42857143;\n  color: #555;\n  background-color: #fff;\n  background-image: none;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n  &:focus {\n    border-width: 2px !important;\n    border-style: solid !important;\n    border-color: rgb(92, 106, 196) !important;\n    border-image: initial !important;\n    outline: white;\n  }\n"]);return T=function(){return e},e}var D=Object(h.b)(I)(T());function L(){var e=Object(m.a)(["\n  flex-direction: column;\n  padding: 20px;\n"]);return L=function(){return e},e}var A=Object(h.b)(j)(L());function B(){var e=Object(m.a)([""]);return B=function(){return e},e}var G=h.b.h1(B());function P(){var e=Object(m.a)(["\n  margin: 0;\n  padding: 20px;\n  text-align: left;\n  border-bottom: 1px solid rgb(235, 238, 240);\n  margin-bottom: 20px;\n  font-size: 24px;\n  font-weight: 600;\n  padding: 20px;\n  color: #212b36;\n"]);return P=function(){return e},e}var z=Object(h.b)(G)(P());function N(){var e=Object(m.a)([""]);return N=function(){return e},e}var U=h.b.select(N());function H(){var e=Object(m.a)(["\n  width: 100%;\n  display: block;\n  box-sizing: border-box;\n  border: 1px solid #e3e5e7;\n  height: 120px;\n  font-size: 14px;\n  line-height: 1.42857143;\n  padding: 18px;\n  color: #555;\n  background-color: #fff;\n  background-image: none;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n  &:focus {\n    border-width: 2px !important;\n    border-style: solid !important;\n    border-color: rgb(92, 106, 196) !important;\n    border-image: initial !important;\n    outline: white;\n  }\n"]);return H=function(){return e},e}var R=Object(h.b)(U)(H());function F(){var e=Object(m.a)([""]);return F=function(){return e},e}var J=h.b.p(F());function V(){var e=Object(m.a)(["\n      display: flex;\n      justify-content: center;\n      padding: 20px;\n      input {\n        font-size: 14px;\n        color: rgb(255, 255, 255);\n        outline: none;\n        background: linear-gradient(rgb(99, 113, 199), rgb(85, 99, 193));\n        cursor: pointer;\n      }\n    "]);return V=function(){return e},e}function W(){var e=Object(m.a)(["\n  ","\n"]);return W=function(){return e},e}var Y=Object(h.b)(J)(W(),function(e){return e.special&&Object(h.a)(V())});function K(){var e=Object(m.a)([""]);return K=function(){return e},e}var M=h.b.label(K());function $(){var e=Object(m.a)(["\n  display: block;\n  width: 100%;\n  box-sizing: border-box;\n  padding-bottom: 6px;\n  color: #212b36;\n  font-size: 14px;\n"]);return $=function(){return e},e}var Q=Object(h.b)(M)($());function X(){var e=Object(m.a)([""]);return X=function(){return e},e}var Z=h.b.form(X());function ee(){var e=Object(m.a)([""]);return ee=function(){return e},e}var te=h.b.article(ee());function ne(){var e=Object(m.a)(["\n      display: flex;\n      justify-content: center;\n      padding: 20px;\n      input {\n        font-size: 14px;\n        color: rgb(255, 255, 255);\n        outline: none;\n        background: linear-gradient(rgb(99, 113, 199), rgb(85, 99, 193));\n        &:hover ,&:focus{\n          box-shadow: 2px 4px 11px 1px rgba(0,0,0,.2)\n          transform: translateY(-1);\n        }\n      }\n    "]);return ne=function(){return e},e}function ae(){var e=Object(m.a)(["\n  ","\n"]);return ae=function(){return e},e}var re=Object(h.b)(te)(ae(),function(e){return e.special&&Object(h.a)(ne())});function oe(){var e=Object(m.a)(["\n  width: 100%;\n  max-width: 580px;\n  box-shadow: rgba(63, 63, 68, 0.05) 0px 0px 0px 1px,\n    rgba(63, 63, 68, 0.15) 0px 1px 3px 0px;\n  border-radius: 3px;\n  margin: 50px 0;\n\n  .geosuggest__input {\n    width: 100%;\n    display: block;\n    box-sizing: border-box;\n    padding: 4px 18px;\n    border: 1px solid #e3e5e7;\n    height: 40px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n    transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n    &:focus {\n      border-width: 2px !important;\n      border-style: solid !important;\n      border-color: rgb(92, 106, 196) !important;\n      border-image: initial !important;\n      outline: white;\n    }\n  }\n  .geosuggest__suggests {\n    list-style: none;\n    padding: 0;\n    background: #ffff;\n    margin: 0;\n    box-shadow: rgba(63, 63, 68, 0.05) 0px 0px 0px 1px,\n      rgba(63, 63, 68, 0.15) 0px 1px 3px 0px;\n    border-radius: 3px;\n    li {\n      padding: 0.5em 20px;\n      cursor: pointer;\n      &:hover {\n        background: #f5f5f5;\n      }\n    }\n  }\n  .geosuggest__suggests--hidden {\n    display: none;\n  }\n"]);return oe=function(){return e},e}var ie=Object(h.b)(Z)(oe());ie.Title=z,ie.Input=D,ie.Group=A,ie.Select=R,ie.Label=Q,ie.InputGroup=Y,ie.InputContainer=re;var ce=ie,le=function(e){var t=e.fetching,n=t?"Processing...":"Submit";return r.a.createElement(ce.InputGroup,{special:!0},r.a.createElement(ce.Input,{type:"submit",disabled:t,value:n}))},ue=function(e){var t=e.id,n=e.name,a=e.value,o=e.onChange,i=e.multiple,c=e.selected,l=e.required,u=e.list,s=void 0===u?[]:u;return r.a.createElement(ce.Select,{id:t,name:n,value:a,onChange:o,multiple:i,required:l},i||r.a.createElement("option",{value:""},"Select"),s.map(function(e,t){return r.a.createElement("option",{value:e,key:t,selected:c},e)}))},se=function(e){var t=e.id,n=e.min,a=e.max,o=e.name,i=e.type,c=e.list,l=e.value,u=e.selected,s=e.required,d=e.onChange,p=e.multiple,f=e.maxLength;return"select"===i?r.a.createElement(ue,{id:t,name:o,list:c,value:l,required:s,onChange:d,multiple:p}):r.a.createElement(ce.Input,{id:t,min:n,max:a,name:o,type:i,value:l,selected:u,required:s,onChange:d,maxLength:f})},de=function(e){var t=e.id,n=e.min,a=e.max,o=e.name,i=e.type,c=e.list,l=e.title,u=e.value,s=e.onChange,d=e.required,p=e.selected,f=e.multiple,g=e.maxLength,b=void 0===g?1e6:g;return r.a.createElement(ce.InputGroup,null,r.a.createElement(ce.Label,{htmlFor:t},r.a.createElement("span",null,l),d&&r.a.createElement("strong",null,r.a.createElement("abbr",{title:"required"},"*"))),r.a.createElement(se,{id:t,min:n,max:a,name:o,type:i,list:c,value:u,selected:p,required:d,onChange:s,multiple:f,maxLength:b}))},pe=n(57),fe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).onSuggestionSelect=function(e){if(e){var t={target:{name:n.props.name,value:e.description}};n.props.onChange(t)}},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.initialValue;return r.a.createElement(pe.a,{placeholder:"City",initialValue:t,ref:function(t){return e._geoSuggest=t},onSuggestSelect:this.onSuggestionSelect})}}]),t}(r.a.Component),ge=function(e){var t=e.title,n=e.required,a=e.name,o=e.onChange,i=e.value;return r.a.createElement(ce.InputContainer,null,r.a.createElement(ce.Label,null,r.a.createElement("span",null,t),n&&r.a.createElement("strong",null,r.a.createElement("abbr",{title:"required"},"*"))),r.a.createElement(fe,{name:a,onChange:o,initialValue:i}))},be=function(e){var t=e.id,n=e.min,a=e.max,o=e.name,i=e.type,c=e.title,l=e.value,u=e.onChange,s=e.required,d=e.selected,p=e.list,f=void 0===p?[]:p,g=e.maxLength,b=e.multiple,m=void 0!==b&&b;return"location"===i?r.a.createElement(ge,{name:o,value:l,title:c,required:s,onChange:u}):r.a.createElement(de,{id:t,min:n,max:a,name:o,type:i,list:f,value:l,title:c,selected:d,required:s,onChange:u,multiple:m,maxLength:g})},me=n(39),he=function(e,t){var n=new Date,a=n.getDate(),r=n.setDate(a+e),o=n.setDate(a+t);return{min:new Date(r).toISOString().slice(0,-8),max:new Date(o).toISOString().slice(0,-8)}},ve=function(e,t){return e.map(function(e){return t?e[t]:e.name})},ye=function(e){return new Date(e||new Date).toISOString().slice(0,-1)},_e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.map(function(e){return Object(u.a)({},t.find(function(t){return t.name===e}),n)})},xe=function(e){return{id:e.id,title:e.title,skills:ve(e.skills),city:e.role_info.city,description:e.description,backgrounds:ve(e.backgrounds),salary:e.specifics_info.salary,latest_end_date:ye(e.latest_end_date),earliest_start_date:ye(e.earliest_start_date),selection_process:e.role_info.selection_process,applications_close_date:ye(e.applications_close_date)}},Oe=function(e){return{opportunity:{title:e.title,skills:Object(me.a)(e.skills),backgrounds:Object(me.a)(e.backgrounds),specifics_info:{salary:e.salary},description:e.description,role_info:{city:e.city,selection_process:e.selection_process},latest_end_date:e.latest_end_date,earliest_start_date:e.earliest_start_date,applications_close_date:e.applications_close_date,opportunity_id:e.id}}},ke=function(e,t){e.response&&e.response.data&&e.response.data.error?t(e.response.data.error):t(e.message)},je=function(e){var t=e.city,n=e.title,a=e.skills,o=e.salary,i=e.allSkills,c=e.description,l=e.backgrounds,u=e.allBackgrounds,s=e.onHandleChange,d=e.latest_end_date,p=e.required,f=void 0===p||p,g=e.selection_process,b=e.earliest_start_date,m=e.applications_close_date;return r.a.createElement(ce.Group,null,r.a.createElement(be,{id:"title",name:"title",type:"text",title:"Title",value:n,maxLength:100,required:f,onChange:s}),r.a.createElement(be,{id:"skills",name:"skills",type:"select",title:"Skills",value:a,multiple:!0,required:f,onChange:s,list:ve(i)}),r.a.createElement(be,{id:"salary",name:"salary",type:"number",title:"Salary",value:o,required:f,onChange:s}),r.a.createElement(be,{type:"text",id:"description",name:"description",title:"Description",value:c,required:f,onChange:s}),r.a.createElement(be,{multiple:!0,type:"select",id:"backgrounds",name:"backgrounds",title:"Backgrounds",value:l,required:f,onChange:s,list:ve(u)}),r.a.createElement(be,{type:"text",required:f,id:"selection_process",name:"selection_process",title:"Selection process",onChange:s,value:g}),r.a.createElement(be,{id:"city",name:"city",type:"location",title:"City",value:t,required:f,onChange:s}),r.a.createElement(be,{required:f,id:"latest_end_date",type:"datetime-local",name:"latest_end_date",title:"Latest end date",value:d,onChange:s}),r.a.createElement(be,{required:f,type:"datetime-local",id:"earliest_start_date",onChange:s,name:"earliest_start_date",title:"Earliest start date",value:b}),r.a.createElement(be,{required:f,type:"datetime-local",onChange:s,id:"applications_close_date",min:he(30,90).min,max:he(30,90).max,name:"applications_close_date",title:"Applications close date",value:m}))};je.defaultProps={title:"qwertyui",skills:[""],salary:"",required:!0,city:"albenia",description:"",backgrounds:[""],onChange:function(){},latest_end_date:"2018-06-12T19:30",selection_process:"",earliest_start_date:"2018-06-12T19:30",applications_close_date:(new Date).toISOString().slice(0,-1)};var Ee=je,Se=function(e){var t=e.data,n=e.onSubmit,a=e.fetching,o=e.allSkills,i=e.allBackgrounds,c=e.onHandleChange;return r.a.createElement(ce,{onSubmit:n},r.a.createElement(ce.Title,null,"Opportunity"),r.a.createElement(Ee,Object.assign({},t,{allSkills:o,allBackgrounds:i,onHandleChange:c})),r.a.createElement(le,{fetching:a}))},we={title:"",skills:[],city:"",description:"",backgrounds:[],salary:"",latest_end_date:"",earliest_start_date:"",selection_process:"",applications_close_date:""},Ce=n(18),qe=n.n(Ce),Ie=n(27),Te=n(11);function De(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: 16px;\n"]);return De=function(){return e},e}var Le=h.b.div(De()),Ae={position:Te.b.POSITION.TOP_RIGHT},Be="https://res.cloudinary.com/drqqv1c2v/image/upload",Ge=function(e){var t=e.src,n=e.className,a=e.msg;return r.a.createElement(Le,null,r.a.createElement(Ie.a,{src:t,className:n})," ",a)},Pe=function(e){return Te.b.error(r.a.createElement(Ge,{msg:e,className:"toast-danger-icon",src:"".concat(Be,"/v1543619703/danger.svg")}),Ae)},ze=function(e){return{default:"".concat(e.toUpperCase()),fulfilled:"".concat(e.toUpperCase(),"_FULFILLED"),rejected:"".concat(e.toUpperCase(),"_REJECTED"),pending:"".concat(e.toUpperCase(),"_PENDING")}},Ne=ze("GET_OPPORTUNITY"),Ue=ze("UPDATE_OPPORTUNITY "),He=ze("GET_BACKGROUNDS_SKILLS"),Re=function(e){return function(t){var n="".concat("https://api-staging.aiesec.org/v2","/lists/skills"),a="".concat("https://api-staging.aiesec.org/v2","/lists/backgrounds"),r=[qe()({url:a,method:"GET",params:{access_token:"dd0df21c8af5d929dff19f74506c4a8153d7acd34306b9761fd4a57cfa1d483c"}}),qe()({url:n,method:"GET",params:{access_token:"dd0df21c8af5d929dff19f74506c4a8153d7acd34306b9761fd4a57cfa1d483c"}})];t(function(e){return{type:He.default,payload:e}}(Promise.all(r))).then(function(){return e&&e()}).catch(function(e){ke(e,Pe)})}},Fe="".concat("https://api-staging.aiesec.org/v2","/opportunities/").concat(6125),Je=function(){return function(e){e(function(e){return{type:Ne.default,payload:e}}(qe()({url:Fe,method:"GET",params:{access_token:"dd0df21c8af5d929dff19f74506c4a8153d7acd34306b9761fd4a57cfa1d483c"}}))).catch(function(e){ke(e,Pe)})}},Ve=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state=Object(u.a)({},we),n.populateState=function(){var e=n.props.opportunity,t=xe(e.resp);n.setState(Object(u.a)({},t))},n.onHandleSelect=function(e,t){var a=ve(Array.from(t||[]),"value");"backgrounds"===e&&a.length>3||n.setState(Object(l.a)({},e,a))},n.onHandleChange=function(e){var t=e.target,a=t.name,r=t.value,o=t.type,i=t.selectedOptions;"select-multiple"===o?n.onHandleSelect(a,i):n.setState(Object(l.a)({},a,r))},n.onSubmit=function(e){e.preventDefault();var t=Object(u.a)({},n.state),a=n.props.backgroundAndSkill,r=a.skills,o=a.backgrounds;t.skills=_e(n.state.skills,r,{option:"preferred",level:0}),t.backgrounds=_e(n.state.backgrounds,o,{option:"preferred"}),n.props.updateOpportunity(Oe(t))},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.getOpportunity(),this.props.skillAndBackground()}},{key:"componentDidUpdate",value:function(e){var t=e.opportunity.fetched,n=this.props.opportunity.fetched;t!==n&&n&&this.populateState()}},{key:"render",value:function(){var e=this.props,t=e.backgroundAndSkill,n=e.opportunity;return n.fetching_opportunity?r.a.createElement(O,null):r.a.createElement(C,null,r.a.createElement(Se,{data:this.state,onSubmit:this.onSubmit,allSkills:t.skills,onHandleChange:this.onHandleChange,allBackgrounds:t.backgrounds,fetching:n.fetching_update_opportunity}))}}]),t}(r.a.Component),We={getOpportunity:Je,updateOpportunity:function(e){return function(t){t(function(e){return{type:Ue.default,payload:e}}(qe()({url:Fe,data:e,method:"PATCH",params:{access_token:"dd0df21c8af5d929dff19f74506c4a8153d7acd34306b9761fd4a57cfa1d483c"}}))).then(function(){var e;e="Succesfully Updated",Te.b.success(r.a.createElement(Ge,{msg:e,className:"toast-success-icon",src:"".concat(Be,"/v1543619743/success.svg")}),Ae)}).catch(function(e){ke(e,Pe)})}},skillAndBackground:Re},Ye=Object(c.b)(function(e){return{opportunity:e.opportunity,backgroundAndSkill:e.backgroundAndSkill}},We)(Ve),Ke=n(62),Me=n(63),$e=n(64),Qe=n.n($e),Xe=n(65),Ze=n(9),et=n(38),tt=n(66),nt={fetching:!1,fetched:!1,fetching_opportunity:!1,fetched_opportunity:!1,fetching_update_opportunity:!1,fetched_update_opportunity:!1,error:{},resp:{}},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.pending:return Object(u.a)({},e,{fetching:!0,fetched:!1,fetching_opportunity:!0,fetched_opportunity:!1,fetching_update_opportunity:!1,fetched_update_opportunity:!1,error:{},update:{}});case Ne.fulfilled:return Object(u.a)({},e,{fetching:!1,fetched:!0,fetched_opportunity:!0,fetching_opportunity:!1,error:{},resp:t.payload.data});case Ne.rejected:return Object(u.a)({},e,{fetching:!1,fetched:!1,fetched_opportunity:!1,fetching_opportunity:!1,error:t.payload});case Ue.pending:return Object(u.a)({},e,{fetching:!0,fetched:!1,fetching_update_opportunity:!0,fetched_update_opportunity:!1,error:{}});case Ue.fulfilled:return Object(u.a)({},e,{fetching:!1,fetched:!0,fetched_update_opportunity:!0,fetching_update_opportunity:!1,error:{},resp:t.payload.data});case Ue.rejected:return Object(u.a)({},e,{fetching:!1,fetched:!1,fetched_update_opportunity:!1,fetching_update_opportunity:!1,error:t.payload});default:return Object(u.a)({},e)}},rt={fetching:!1,fetched:!1,error:{},skills:[],backgrounds:[]},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He.pending:return Object(u.a)({},e,{fetching:!0,fetched:!1,error:{}});case He.fulfilled:return Object(u.a)({},e,{fetching:!1,fetched:!0,error:{},skills:t.payload[1].data,backgrounds:t.payload[0].data});case He.rejected:return Object(u.a)({},e,{fetching:!1,fetched:!1,error:t.payload});default:return Object(u.a)({},e)}},it=Object(Ze.combineReducers)({opportunity:at,backgroundAndSkill:ot}),ct=Object(Ze.applyMiddleware)(Xe.a,Me.a),lt=Object(tt.composeWithDevTools)(ct),ut={key:"root",storage:Qe.a,blacklist:["opportunity"]},st=Object(et.a)(ut,it),dt=(n(129),function(){return r.a.createElement(Te.a,{hideProgressBar:!0,closeButton:r.a.createElement(Ie.a,{src:"https://res.cloudinary.com/drqqv1c2v/image/upload/v1543619816/Close.svg",className:"toast-close"})})}),pt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={hasError:!1},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),ft=function(){var e=Object(Ze.createStore)(st,lt);return{store:e,persistor:Object(et.b)(e)}}(),gt=ft.store,bt=ft.persistor,mt=function(){return r.a.createElement(pt,null,r.a.createElement(dt,null),r.a.createElement(c.a,{store:gt},r.a.createElement(Ke.a,{loading:r.a.createElement(O,null),persistor:bt},r.a.createElement(Ye,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(mt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},67:function(e,t,n){e.exports=n(130)},72:function(e,t,n){}},[[67,1,2]]]);
//# sourceMappingURL=main.838a0e7d.chunk.js.map